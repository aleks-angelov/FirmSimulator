<div class="row">
    <h2>Settings</h2>
    <hr />

    <form *ngIf="active" (ngSubmit)="postSettings(settingsModel)" #settingsForm="ngForm" class="form-inline" role="form" style="margin-top: 15px">
        <div class="form-group margin-right-sm" style="width: 166px">
            <label for="settingsDescription">Description:</label>

            <input type="text" id="settingsDescription" class="form-control" required autofocus name="settingsDescription" [(ngModel)]="settingsModel.description" style="width: 166px" />

            <div *ngIf="formErrors.settingsDescription" class="alert alert-danger">
                {{ formErrors.settingsDescription }}
            </div>

            <div *ngIf="addFailed" class="alert alert-danger">
                You have already used this description. Please give a new one.
            </div>
        </div>

        <div class="form-group margin-right-sm" style="width: 166px">
            <label for="settingsRevenueA">Revenue: a (&lt; 0)</label>

            <input type="number" id="settingsRevenueA" class="form-control" required max="0" step="0.01" name="settingsRevenueA" [(ngModel)]="settingsModel.revenue_a" style="width: 166px" />

            <div *ngIf="formErrors.settingsRevenueA" class="alert alert-danger">
                {{ formErrors.settingsRevenueA }}
            </div>
        </div>

        <div class="form-group margin-right-sm" style="width: 166px">
            <label for="settingsRevenueB">Revenue: b (&gt; 0)</label>

            <input type="number" id="settingsRevenueB" class="form-control" required min="0" step="0.01" name="settingsRevenueB" [(ngModel)]="settingsModel.revenue_b" style="width: 166px" />

            <div *ngIf="formErrors.settingsRevenueB" class="alert alert-danger">
                {{ formErrors.settingsRevenueB }}
            </div>
        </div>

        <div class="form-group margin-right-sm" style="width: 166px">
            <label for="settingsCostA">Cost: a (&gt; 0)</label>

            <input type="number" id="settingsCostA" class="form-control" required min="0" step="0.01" name="settingsCostA" [(ngModel)]="settingsModel.cost_a" style="width: 166px" />

            <div *ngIf="formErrors.settingsCostA" class="alert alert-danger">
                {{ formErrors.settingsCostA }}
            </div>
        </div>

        <div class="form-group margin-right-sm" style="width: 166px">
            <label for="settingsCostB">Cost: b (&lt; 0)</label>

            <input type="number" id="settingsCostB" class="form-control" required max="0" step="0.01" name="settingsCostB" [(ngModel)]="settingsModel.cost_b" style="width: 166px" />

            <div *ngIf="formErrors.settingsCostB" class="alert alert-danger">
                {{ formErrors.settingsCostB }}
            </div>
        </div>

        <div class="form-group margin-right-md" style="width: 166px">
            <label for="settingsCostC">Cost: c (&gt; 0)</label>

            <input type="number" id="settingsCostC" class="form-control" required min="0" step="0.01" name="settingsCostC" [(ngModel)]="settingsModel.cost_c" style="width: 166px" />

            <div *ngIf="formErrors.settingsCostC" class="alert alert-danger">
                {{ formErrors.settingsCostC }}
            </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="!settingsForm.form.valid" style="margin-top: 25px">Add</button>
    </form>
</div>

<div class="row">
    <div class="checkbox" style="margin-top: 11px">
        <label><input type="checkbox" (click)="setFilter()" checked>Only my settings</label>
    </div>

    <div class="table-responsive" style="margin-bottom: -10px">
        <table class="table table-striped table-bordered table-hover" style="font-size: 14px">
            <thead>
                <tr>
                    <th>E-mail</th>
                    <th>Description</th>
                    <th>Revenue: a</th>
                    <th>Revenue: b</th>
                    <th>Cost: a</th>
                    <th>Cost: b</th>
                    <th>Cost: c</th>
                </tr>
            </thead>
            <tbody *ngIf="filterSettings">
                <tr *ngFor="let settings of filteredSettings">
                    <td>{{settings.userEmail}}</td>
                    <td>{{settings.description}}</td>
                    <td>{{settings.revenue_a}}</td>
                    <td>{{settings.revenue_b}}</td>
                    <td>{{settings.cost_a}}</td>
                    <td>{{settings.cost_b}}</td>
                    <td>{{settings.cost_c}}</td>
                </tr>
            </tbody>
            <tbody *ngIf="!filterSettings">
                <tr *ngFor="let settings of allSettings">
                    <td>{{settings.userEmail}}</td>
                    <td>{{settings.description}}</td>
                    <td>{{settings.revenue_a}}</td>
                    <td>{{settings.revenue_b}}</td>
                    <td>{{settings.cost_a}}</td>
                    <td>{{settings.cost_b}}</td>
                    <td>{{settings.cost_c}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="error" *ngIf="errorMessage">{{errorMessage}}</div>
</div>
